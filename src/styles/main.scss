* {
  box-sizing: border-box;
}

body,
ul {
  margin: 0;
  padding: 0;
}

body {
  font-family: "Arial", sans-serif;
}

$cell-size: 100px;
$gap: 1px;
$month-length: 29;
$start-day: 5; /*Starts from Monday(1). Friday will be (5)*/
$color-background: #eee;
$color-background-hover: #ffbfcb;
$color-border: #777;

@mixin square($cell-size) {
  width: $cell-size;
  height: $cell-size;
}

@function calendarContainerWidth ($cell-size) {
  @return ($cell-size * 7 + 14px);
}

.calendar {

  padding: 50px 10px;

  &__list {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    gap: 1px;
    $containerWidth: calendarContainerWidth($cell-size);
    width: $containerWidth;
    margin: 0 auto;
  }

  &__item {
    @include square($cell-size);
    border: 1px solid $color-border;
    display: block;
    position: relative;
    top: 0;
    transition: all 0.5s ease;
    background-color: $color-background;

    &:nth-last-child(-n + #{31 - $month-length}) {
      display: none;
    }

    &--hidden {
      display: block;
      opacity: 0;
      visibility: hidden;
      flex-basis: $cell-size*6 + 5 * $gap;
    }

    &:first-child {
      margin-left: ($cell-size + $gap) * ($start-day - 1);
    }

    &:hover {
      background-color: $color-background-hover;
      transition: top 0.5s ease;
      top: -20px;
      cursor: pointer;
    }
  }

  &__number {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;

    &::before {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #555;
      font-size: 30px;
    }

    @for $index from 1 through $month-length {
      &--#{$index}::before {
        content: "#{$index}";
      }
    }
  }
}
