.calendar {
  display: flex;
  flex-wrap: wrap;
  gap: $days-gap;
  padding: 30px $calendar-padding-left;

  &__day {
    @include square;
    background-color: $square-bg-color;
    border: 1px solid #000;
    transition: background-color 0.5s, transform 0.5s;

    @for $index from 1 through 31 {
      &:nth-child(#{$index}):before {
        content: "#{$index}";
        display: block;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 30px;
        line-height: 100px;
        text-align: center;
      }
    }

    $days: "mon" "0",
      "tue" getFirstDayMargin(1, $square-size, $days-gap),
      "wed" getFirstDayMargin(2, $square-size, $days-gap),
      "thu" getFirstDayMargin(3, $square-size, $days-gap),
      "fri" getFirstDayMargin(4, $square-size, $days-gap),
      "sat" getFirstDayMargin(5, $square-size, $days-gap),
      "sun" getFirstDayMargin(6, $square-size, $days-gap);

    @each $name, $margin in $days {
      &--start-day--#{$name} {
        margin-left: #{$margin};
      }
    }

    &:hover {
      background-color: pink;
      transform: translateY(-20px);
      cursor: pointer;
    }
  }

  @for $number from 28 through 31 {
    &--month-length--#{$number} .calendar__day:nth-child(n+#{$number + 1}) {
      opacity: 0;
    }
  }
}
