.calendar {
  display: flex;
  flex-wrap: wrap;
  margin: 0 auto;
  padding-top: 30px;
  width: (($daySize + 2) * 7 + 10px);
  gap: 1px;

  &__day {
    @include size($daySize, $daySize);
    border: 1px solid black;
    background-color: #eee;
    cursor: pointer;
    transition-duration: 500ms;

    &:hover {
      transform: translateY(-20px);
      background-color: pink;
    }

    @for $dayIndex from 1 through 31 {
      &:nth-child(#{$dayIndex}):before {
        content: "#{$dayIndex}";
      }
    }

    $weekDays:
      "calendar--start-day--mon" 0,
      "calendar--start-day--tue" 1,
      "calendar--start-day--wed" 2,
      "calendar--start-day--thu" 3,
      "calendar--start-day--fri" 4,
      "calendar--start-day--sat" 5,
      "calendar--start-day--sun" 6;

    @each $name, $startDay in $weekDays {
      .#{$name} &:first-child {
        margin-left: ($daySize + 3) * $startDay;
      }
    }

    @for $dayIndex from 28 to 31 {
      .calendar--month-length--#{$dayIndex} &:nth-child(n + #{$dayIndex + 1}) {
        display: none;
      }
    }
  }
}
